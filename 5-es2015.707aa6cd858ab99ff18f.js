(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},Aplp:function(t,e,n){"use strict";var r,s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},i=0,c=0;function a(t){var e="";do{e=s[t%64]+e,t=Math.floor(t/64)}while(t>0);return e}function h(){var t=a(+new Date);return t!==r?(i=0,r=t):t+"."+a(i++)}for(;c<64;c++)o[s[c]]=c;h.encode=a,h.decode=function(t){var e=0;for(c=0;c<t.length;c++)e=64*e+o[t.charAt(c)];return e},t.exports=h},C2QD:function(t,e){function n(t){this.ms=(t=t||{}).min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}t.exports=n,n.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=0==(1&Math.floor(10*e))?t-n:t+n}return 0|Math.min(t,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(t){this.ms=t},n.prototype.setMax=function(t){this.max=t},n.prototype.setJitter=function(t){this.jitter=t}},F5o1:function(t,e,n){"use strict";n.r(e),n.d(e,"SocketTestModule",(function(){return xr}));var r={};n.r(r),n.d(r,"protocol",(function(){return Fn})),n.d(r,"PacketType",(function(){return In})),n.d(r,"Encoder",(function(){return Mn})),n.d(r,"Decoder",(function(){return Dn}));var s,o,i,c=n("ofXK"),a=n("tyNb"),h=n("3Pt+"),u=n("XNiG"),l=n("1G5W"),p=function(t,e,n,r){for(var s=t.length,o=n+(r?1:-1);r?o--:++o<s;)if(e(t[o],o,t))return o;return-1},f=function(t){return t!=t},d=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},b=n("Ju5/"),v=b.a.Symbol,m=Object.prototype,y=m.hasOwnProperty,g=m.toString,k=v?v.toStringTag:void 0,O=Object.prototype.toString,_=v?v.toStringTag:void 0,w=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":_&&_ in Object(t)?function(t){var e=y.call(t,k),n=t[k];try{t[k]=void 0;var r=!0}catch(o){}var s=g.call(t);return r&&(e?t[k]=n:delete t[k]),s}(t):function(t){return O.call(t)}(t)},x=function(t){return null!=t&&"object"==typeof t},E=function(t){return"symbol"==typeof t||x(t)&&"[object Symbol]"==w(t)},j=/^\s+|\s+$/g,S=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,P=/^0o[0-7]+$/i,N=parseInt,A=function(t){var e=function(t){return t?(t=function(t){if("number"==typeof t)return t;if(E(t))return NaN;if(d(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=d(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(j,"");var n=C.test(t);return n||P.test(t)?N(t.slice(2),n?2:8):S.test(t)?NaN:+t}(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}(t),n=e%1;return e==e?n?e-n:e:0},T=Math.max,B=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=null==n?0:A(n);return s<0&&(s=T(r+s,0)),function(t,e,n){return e==e?function(t,e,n){for(var r=n-1,s=t.length;++r<s;)if(t[r]===e)return r;return-1}(t,e,n):p(t,f,n)}(t,e,s)},R=n("fXoL"),L=Object.prototype,F=(s=Object.keys,o=Object,function(t){return s(o(t))}),I=Object.prototype.hasOwnProperty,M=function(t){if((e=t)!==("function"==typeof(n=e&&e.constructor)&&n.prototype||L))return F(t);var e,n,r=[];for(var s in Object(t))I.call(t,s)&&"constructor"!=s&&r.push(s);return r},D=function(t){if(!d(t))return!1;var e=w(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},q=b.a["__core-js_shared__"],$=(i=/[^.]+$/.exec(q&&q.keys&&q.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"",z=Function.prototype.toString,H=function(t){if(null!=t){try{return z.call(t)}catch(e){}try{return t+""}catch(e){}}return""},U=/^\[object .+?Constructor\]$/,V=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=function(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!d(t)||function(t){return!!$&&$ in t}(t))&&(D(t)?V:U).test(H(t))}(n)?n:void 0},J=K(b.a,"DataView"),W=K(b.a,"Map"),Y=K(b.a,"Promise"),G=K(b.a,"Set"),X=K(b.a,"WeakMap"),Q=H(J),Z=H(W),tt=H(Y),et=H(G),nt=H(X),rt=w;(J&&"[object DataView]"!=rt(new J(new ArrayBuffer(1)))||W&&"[object Map]"!=rt(new W)||Y&&"[object Promise]"!=rt(Y.resolve())||G&&"[object Set]"!=rt(new G)||X&&"[object WeakMap]"!=rt(new X))&&(rt=function(t){var e=w(t),n="[object Object]"==e?t.constructor:void 0,r=n?H(n):"";if(r)switch(r){case Q:return"[object DataView]";case Z:return"[object Map]";case tt:return"[object Promise]";case et:return"[object Set]";case nt:return"[object WeakMap]"}return e});var st=rt,ot=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},it=function(t){return null!=t&&ot(t.length)&&!D(t)},ct=Array.isArray,at=function(t){return function(e){return null==e?void 0:e[t]}},ht=at("length"),ut=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),lt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",pt="\\ud83c[\\udffb-\\udfff]",ft="[^\\ud800-\\udfff]",dt="(?:\\ud83c[\\udde6-\\uddff]){2}",bt="[\\ud800-\\udbff][\\udc00-\\udfff]",vt="(?:"+lt+"|"+pt+")?",mt="[\\ufe0e\\ufe0f]?"+vt+"(?:\\u200d(?:"+[ft,dt,bt].join("|")+")[\\ufe0e\\ufe0f]?"+vt+")*",yt="(?:"+[ft+lt+"?",lt,dt,bt,"[\\ud800-\\udfff]"].join("|")+")",gt=RegExp(pt+"(?="+pt+")|"+yt+mt,"g"),kt=function(t){if(null==t)return 0;if(it(t))return"string"==typeof(n=t)||!ct(n)&&x(n)&&"[object String]"==w(n)?function(t){return ut.test(t)}(e=t)?function(t){for(var e=gt.lastIndex=0;gt.test(t);)++e;return e}(e):ht(e):t.length;var e,n,r=st(t);return"[object Map]"==r||"[object Set]"==r?t.size:M(t).length},Ot=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},_t=function(t){return x(t)&&"[object Arguments]"==w(t)},wt=Object.prototype,xt=wt.hasOwnProperty,Et=wt.propertyIsEnumerable,jt=_t(function(){return arguments}())?_t:function(t){return x(t)&&xt.call(t,"callee")&&!Et.call(t,"callee")},St=n("WOAq"),Ct=/^(?:0|[1-9]\d*)$/,Pt=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Ct.test(t))&&t>-1&&t%1==0&&t<e},Nt={};Nt["[object Float32Array]"]=Nt["[object Float64Array]"]=Nt["[object Int8Array]"]=Nt["[object Int16Array]"]=Nt["[object Int32Array]"]=Nt["[object Uint8Array]"]=Nt["[object Uint8ClampedArray]"]=Nt["[object Uint16Array]"]=Nt["[object Uint32Array]"]=!0,Nt["[object Arguments]"]=Nt["[object Array]"]=Nt["[object ArrayBuffer]"]=Nt["[object Boolean]"]=Nt["[object DataView]"]=Nt["[object Date]"]=Nt["[object Error]"]=Nt["[object Function]"]=Nt["[object Map]"]=Nt["[object Number]"]=Nt["[object Object]"]=Nt["[object RegExp]"]=Nt["[object Set]"]=Nt["[object String]"]=Nt["[object WeakMap]"]=!1;var At=function(t){return function(e){return t(e)}},Tt=n("xutz"),Bt=Tt.a&&Tt.a.isTypedArray,Rt=Bt?At(Bt):function(t){return x(t)&&ot(t.length)&&!!Nt[w(t)]},Lt=Object.prototype.hasOwnProperty,Ft=function(t){return it(t)?function(t,e){var n=ct(t),r=!n&&jt(t),s=!n&&!r&&Object(St.a)(t),o=!n&&!r&&!s&&Rt(t),i=n||r||s||o,c=i?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],a=c.length;for(var h in t)!e&&!Lt.call(t,h)||i&&("length"==h||s&&("offset"==h||"parent"==h)||o&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||Pt(h,a))||c.push(h);return c}(t):M(t)},It=function(t,e){if(null==t)return t;if(!it(t))return function(t,e){return t&&function(t,e,n){for(var r=-1,s=Object(t),o=n(t),i=o.length;i--;){var c=o[++r];if(!1===e(s[c],c,s))break}return t}(t,e,Ft)}(t,e);for(var n=t.length,r=-1,s=Object(t);++r<n&&!1!==e(s[r],r,s););return t},Mt=function(t){return t},Dt=function(t,e){for(var n=-1,r=null==t?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s},qt=function(t,e){return t===e||t!=t&&e!=e},$t=function(t,e){for(var n=t.length;n--;)if(qt(t[n][0],e))return n;return-1},zt=Array.prototype.splice;function Ht(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ht.prototype.clear=function(){this.__data__=[],this.size=0},Ht.prototype.delete=function(t){var e=this.__data__,n=$t(e,t);return!(n<0||(n==e.length-1?e.pop():zt.call(e,n,1),--this.size,0))},Ht.prototype.get=function(t){var e=this.__data__,n=$t(e,t);return n<0?void 0:e[n][1]},Ht.prototype.has=function(t){return $t(this.__data__,t)>-1},Ht.prototype.set=function(t,e){var n=this.__data__,r=$t(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Ut=Ht,Vt=K(Object,"create"),Kt=Object.prototype.hasOwnProperty,Jt=Object.prototype.hasOwnProperty;function Wt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Wt.prototype.clear=function(){this.__data__=Vt?Vt(null):{},this.size=0},Wt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wt.prototype.get=function(t){var e=this.__data__;if(Vt){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Kt.call(e,t)?e[t]:void 0},Wt.prototype.has=function(t){var e=this.__data__;return Vt?void 0!==e[t]:Jt.call(e,t)},Wt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Vt&&void 0===e?"__lodash_hash_undefined__":e,this};var Yt=Wt,Gt=function(t,e){var n,r,s=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?s["string"==typeof e?"string":"hash"]:s.map};function Xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xt.prototype.clear=function(){this.size=0,this.__data__={hash:new Yt,map:new(W||Ut),string:new Yt}},Xt.prototype.delete=function(t){var e=Gt(this,t).delete(t);return this.size-=e?1:0,e},Xt.prototype.get=function(t){return Gt(this,t).get(t)},Xt.prototype.has=function(t){return Gt(this,t).has(t)},Xt.prototype.set=function(t,e){var n=Gt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var Qt=Xt;function Zt(t){var e=this.__data__=new Ut(t);this.size=e.size}Zt.prototype.clear=function(){this.__data__=new Ut,this.size=0},Zt.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Zt.prototype.get=function(t){return this.__data__.get(t)},Zt.prototype.has=function(t){return this.__data__.has(t)},Zt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ut){var r=n.__data__;if(!W||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Qt(r)}return n.set(t,e),this.size=n.size,this};var te=Zt;function ee(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Qt;++e<n;)this.add(t[e])}ee.prototype.add=ee.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},ee.prototype.has=function(t){return this.__data__.has(t)};var ne=ee,re=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},se=function(t,e,n,r,s,o){var i=1&n,c=t.length,a=e.length;if(c!=a&&!(i&&a>c))return!1;var h=o.get(t);if(h&&o.get(e))return h==e;var u=-1,l=!0,p=2&n?new ne:void 0;for(o.set(t,e),o.set(e,t);++u<c;){var f=t[u],d=e[u];if(r)var b=i?r(d,f,u,e,t,o):r(f,d,u,t,e,o);if(void 0!==b){if(b)continue;l=!1;break}if(p){if(!re(e,(function(t,e){if(!p.has(e)&&(f===t||s(f,t,n,r,o)))return p.push(e)}))){l=!1;break}}else if(f!==d&&!s(f,d,n,r,o)){l=!1;break}}return o.delete(t),o.delete(e),l},oe=b.a.Uint8Array,ie=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n},ce=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},ae=v?v.prototype:void 0,he=ae?ae.valueOf:void 0,ue=Object.prototype.propertyIsEnumerable,le=Object.getOwnPropertySymbols,pe=le?function(t){return null==t?[]:(t=Object(t),function(e,n){for(var r=-1,s=null==e?0:e.length,o=0,i=[];++r<s;){var c=e[r];ue.call(t,c)&&(i[o++]=c)}return i}(le(t)))}:function(){return[]},fe=function(t){return function(t,e,n){var r=e(t);return ct(t)?r:function(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}(r,n(t))}(t,Ft,pe)},de=Object.prototype.hasOwnProperty,be=Object.prototype.hasOwnProperty,ve=function t(e,n,r,s,o){return e===n||(null==e||null==n||!x(e)&&!x(n)?e!=e&&n!=n:function(t,e,n,r,s,o){var i=ct(t),c=ct(e),a=i?"[object Array]":st(t),h=c?"[object Array]":st(e),u="[object Object]"==(a="[object Arguments]"==a?"[object Object]":a),l="[object Object]"==(h="[object Arguments]"==h?"[object Object]":h),p=a==h;if(p&&Object(St.a)(t)){if(!Object(St.a)(e))return!1;i=!0,u=!1}if(p&&!u)return o||(o=new te),i||Rt(t)?se(t,e,n,r,s,o):function(t,e,n,r,s,o,i){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new oe(t),new oe(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return qt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=ie;case"[object Set]":if(c||(c=ce),t.size!=e.size&&!(1&r))return!1;var a=i.get(t);if(a)return a==e;r|=2,i.set(t,e);var h=se(c(t),c(e),r,s,o,i);return i.delete(t),h;case"[object Symbol]":if(he)return he.call(t)==he.call(e)}return!1}(t,e,a,n,r,s,o);if(!(1&n)){var f=u&&be.call(t,"__wrapped__"),d=l&&be.call(e,"__wrapped__");if(f||d){var b=f?t.value():t,v=d?e.value():e;return o||(o=new te),s(b,v,n,r,o)}}return!!p&&(o||(o=new te),function(t,e,n,r,s,o){var i=1&n,c=fe(t),a=c.length;if(a!=fe(e).length&&!i)return!1;for(var h=a;h--;){var u=c[h];if(!(i?u in e:de.call(e,u)))return!1}var l=o.get(t);if(l&&o.get(e))return l==e;var p=!0;o.set(t,e),o.set(e,t);for(var f=i;++h<a;){var d=t[u=c[h]],b=e[u];if(r)var v=i?r(b,d,u,e,t,o):r(d,b,u,t,e,o);if(!(void 0===v?d===b||s(d,b,n,r,o):v)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var m=t.constructor,y=e.constructor;m==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,s,o))}(e,n,r,s,t,o))},me=function(t){return t==t&&!d(t)},ye=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}},ge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ke=/^\w*$/,Oe=function(t,e){if(ct(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!E(t))||ke.test(t)||!ge.test(t)||null!=e&&t in Object(e)};function _e(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],o=n.cache;if(o.has(s))return o.get(s);var i=t.apply(this,r);return n.cache=o.set(s,i)||o,i};return n.cache=new(_e.Cache||Qt),n}_e.Cache=Qt;var we,xe,Ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,je=/\\(\\)?/g,Se=(we=_e((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ee,(function(t,n,r,s){e.push(r?s.replace(je,"$1"):n||t)})),e}),(function(t){return 500===xe.size&&xe.clear(),t})),xe=we.cache,we),Ce=v?v.prototype:void 0,Pe=Ce?Ce.toString:void 0,Ne=function(t,e){return ct(t)?t:Oe(t,e)?[t]:Se(function(t){return null==t?"":function t(e){if("string"==typeof e)return e;if(ct(e))return Dt(e,t)+"";if(E(e))return Pe?Pe.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}(t)}(t))},Ae=function(t){if("string"==typeof t||E(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Te=function(t,e){for(var n=0,r=(e=Ne(e,t)).length;null!=t&&n<r;)t=t[Ae(e[n++])];return n&&n==r?t:void 0},Be=function(t,e){return null!=t&&e in Object(t)},Re=function(t,e){return Oe(t)&&me(e)?ye(Ae(t),e):function(n){var r=function(t,e,n){var r=null==t?void 0:Te(t,e);return void 0===r?void 0:r}(n,t);return void 0===r&&r===e?function(t,e){return null!=t&&function(t,e,n){for(var r=-1,s=(e=Ne(e,t)).length,o=!1;++r<s;){var i=Ae(e[r]);if(!(o=null!=t&&n(t,i)))break;t=t[i]}return o||++r!=s?o:!!(s=null==t?0:t.length)&&ot(s)&&Pt(i,s)&&(ct(t)||jt(t))}(t,e,Be)}(n,t):ve(e,r,3)}},Le=function(t){return"function"==typeof t?t:null==t?Mt:"object"==typeof t?ct(t)?Re(t[0],t[1]):1==(r=function(t){for(var e=Ft(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,me(s)]}return e}(n=t)).length&&r[0][2]?ye(r[0][0],r[0][1]):function(t){return t===n||function(t,e,n,r){var s=n.length,o=s;if(null==t)return!o;for(t=Object(t);s--;){var i=n[s];if(i[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++s<o;){var c=(i=n[s])[0],a=t[c],h=i[1];if(i[2]){if(void 0===a&&!(c in t))return!1}else{var u,l=new te;if(!(void 0===u?ve(h,a,3,void 0,l):u))return!1}}return!0}(t,0,r)}:Oe(e=t)?at(Ae(e)):function(t){return function(e){return Te(e,t)}}(e);var e,n,r},Fe=function(t,e){if(t!==e){var n=void 0!==t,r=null===t,s=t==t,o=E(t),i=void 0!==e,c=null===e,a=e==e,h=E(e);if(!c&&!h&&!o&&t>e||o&&i&&a&&!c&&!h||r&&i&&a||!n&&a||!s)return 1;if(!r&&!o&&!h&&t<e||h&&n&&s&&!r&&!o||c&&n&&s||!i&&s||!a)return-1}return 0},Ie=function(t,e,n){var r=-1;return e=Dt(e.length?e:[Mt],At(Le)),function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,s=t.criteria,o=e.criteria,i=s.length,c=n.length;++r<i;){var a=Fe(s[r],o[r]);if(a)return r>=c?a:a*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(function(t,e){var n=-1,r=it(t)?Array(t.length):[];return It(t,(function(t,s,o){r[++n]=e(t)})),r}(t,(function(t,n,s){return{criteria:Dt(e,(function(e){return e(t)})),index:++r,value:t}})))},Me=function(t,e,n,r){return null==t?[]:(ct(e)||(e=null==e?[]:[e]),ct(n=r?void 0:n)||(n=null==n?[]:[n]),Ie(t,e,n))},De=Math.max,qe=n("2Vo4"),$e=n("HDdC"),ze=n("Uxeu"),He=n.n(ze),Ue=n("yeub"),Ve=n.n(Ue),Ke="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),Je=function(t){const e=t.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!e||Ve.a))return new XMLHttpRequest}catch(n){}if(!e)try{return new(Ke[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}};function We(t,...e){return e.reduce((e,n)=>(t.hasOwnProperty(n)&&(e[n]=t[n]),e),{})}const Ye=setTimeout,Ge=clearTimeout;function Xe(t,e){e.useNativeTimers?(t.setTimeoutFn=Ye.bind(Ke),t.clearTimeoutFn=Ge.bind(Ke)):(t.setTimeoutFn=setTimeout.bind(Ke),t.clearTimeoutFn=clearTimeout.bind(Ke))}var Qe=n("sZ2K");const Ze=Object.create(null);Ze.open="0",Ze.close="1",Ze.ping="2",Ze.pong="3",Ze.message="4",Ze.upgrade="5",Ze.noop="6";const tn=Object.create(null);Object.keys(Ze).forEach(t=>{tn[Ze[t]]=t});const en={type:"error",data:"parser error"},nn="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),rn="function"==typeof ArrayBuffer,sn=(t,e)=>{const n=new FileReader;return n.onload=function(){const t=n.result.split(",")[1];e("b"+t)},n.readAsDataURL(t)};for(var on=({type:t,data:e},n,r)=>{return nn&&e instanceof Blob?n?r(e):sn(e,r):rn&&(e instanceof ArrayBuffer||(s=e,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(s):s&&s.buffer instanceof ArrayBuffer))?n?r(e):sn(new Blob([e]),r):r(Ze[t]+(e||""));var s},cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",an="undefined"==typeof Uint8Array?[]:new Uint8Array(256),hn=0;hn<cn.length;hn++)an[cn.charCodeAt(hn)]=hn;const un="function"==typeof ArrayBuffer,ln=(t,e)=>{if(un){const n=function(t){var e,n,r,s,o,i=.75*t.length,c=t.length,a=0;"="===t[t.length-1]&&(i--,"="===t[t.length-2]&&i--);var h=new ArrayBuffer(i),u=new Uint8Array(h);for(e=0;e<c;e+=4)n=an[t.charCodeAt(e)],r=an[t.charCodeAt(e+1)],s=an[t.charCodeAt(e+2)],o=an[t.charCodeAt(e+3)],u[a++]=n<<2|r>>4,u[a++]=(15&r)<<4|s>>2,u[a++]=(3&s)<<6|63&o;return h}(t);return pn(n,e)}return{base64:!0,data:t}},pn=(t,e)=>{switch(e){case"blob":return t instanceof ArrayBuffer?new Blob([t]):t;case"arraybuffer":default:return t}};var fn=(t,e)=>{if("string"!=typeof t)return{type:"message",data:pn(t,e)};const n=t.charAt(0);return"b"===n?{type:"message",data:ln(t.substring(1),e)}:tn[n]?t.length>1?{type:tn[n],data:t.substring(1)}:{type:tn[n]}:en};const dn=String.fromCharCode(30);class bn extends Qe.Emitter{constructor(t){super(),this.writable=!1,Xe(this,t),this.opts=t,this.query=t.query,this.readyState="",this.socket=t.socket}onError(t,e){const n=new Error(t);return n.type="TransportError",n.description=e,super.emit("error",n),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(t){"open"===this.readyState&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(t){const e=fn(t,this.socket.binaryType);this.onPacket(e)}onPacket(t){super.emit("packet",t)}onClose(){this.readyState="closed",super.emit("close")}}var vn=n("Aplp"),mn=n.n(vn),yn=n("TypT"),gn=n.n(yn);class kn extends bn{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(t){this.readyState="pausing";const e=()=>{this.readyState="paused",t()};if(this.polling||!this.writable){let t=0;this.polling&&(t++,this.once("pollComplete",(function(){--t||e()}))),this.writable||(t++,this.once("drain",(function(){--t||e()})))}else e()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(t){((t,e)=>{const n=t.split(dn),r=[];for(let s=0;s<n.length;s++){const t=fn(n[s],e);if(r.push(t),"error"===t.type)break}return r})(t,this.socket.binaryType).forEach(t=>{if("opening"===this.readyState&&"open"===t.type&&this.onOpen(),"close"===t.type)return this.onClose(),!1;this.onPacket(t)}),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const t=()=>{this.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}write(t){this.writable=!1,((t,e)=>{const n=t.length,r=new Array(n);let s=0;t.forEach((t,o)=>{on(t,!1,t=>{r[o]=t,++s===n&&e(r.join(dn))})})})(t,t=>{this.doWrite(t,()=>{this.writable=!0,this.emit("drain")})})}uri(){let t=this.query||{};const e=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=mn()()),this.supportsBinary||t.sid||(t.b64=1),this.opts.port&&("https"===e&&443!==Number(this.opts.port)||"http"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const r=gn.a.encode(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}}function On(){}const _n=null!=new Je({xdomain:!1}).responseType;class wn extends Qe.Emitter{constructor(t,e){super(),Xe(this,e),this.opts=e,this.method=e.method||"GET",this.uri=t,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.create()}create(){const t=We(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd,t.xscheme=!!this.opts.xs;const e=this.xhr=new Je(t);try{e.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){e.setDisableHeaderCheck&&e.setDisableHeaderCheck(!0);for(let t in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(t)&&e.setRequestHeader(t,this.opts.extraHeaders[t])}}catch(n){}if("POST"===this.method)try{e.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{e.setRequestHeader("Accept","*/*")}catch(n){}"withCredentials"in e&&(e.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(e.timeout=this.opts.requestTimeout),e.onreadystatechange=()=>{4===e.readyState&&(200===e.status||1223===e.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof e.status?e.status:0)},0))},e.send(this.data)}catch(n){return void this.setTimeoutFn(()=>{this.onError(n)},0)}"undefined"!=typeof document&&(this.index=wn.requestsCount++,wn.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(t){this.emit("data",t),this.onSuccess()}onError(t){this.emit("error",t),this.cleanup(!0)}cleanup(t){if(null!=this.xhr){if(this.xhr.onreadystatechange=On,t)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete wn.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&this.onData(t)}abort(){this.cleanup()}}function xn(){for(let t in wn.requests)wn.requests.hasOwnProperty(t)&&wn.requests[t].abort()}wn.requestsCount=0,wn.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",xn):"function"==typeof addEventListener&&addEventListener("onpagehide"in Ke?"pagehide":"unload",xn,!1));const En="function"==typeof Promise&&"function"==typeof Promise.resolve?t=>Promise.resolve().then(t):(t,e)=>e(t,0),jn=Ke.WebSocket||Ke.MozWebSocket,Sn="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Cn extends bn{constructor(t){super(t),this.supportsBinary=!t.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const t=this.uri(),e=this.opts.protocols,n=Sn?{}:We(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Sn?new jn(t,e,n):e?new jn(t,e):new jn(t)}catch(r){return this.emit("error",r)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let e=0;e<t.length;e++){const n=e===t.length-1;on(t[e],this.supportsBinary,t=>{try{this.ws.send(t)}catch(e){}n&&En(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let t=this.query||{};const e=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===e&&443!==Number(this.opts.port)||"ws"===e&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(t[this.opts.timestampParam]=mn()()),this.supportsBinary||(t.b64=1);const r=gn.a.encode(t);return e+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}check(){return!(!jn||"__initialize"in jn&&this.name===Cn.prototype.name)}}const Pn={websocket:Cn,polling:class extends kn{constructor(t){if(super(t),"undefined"!=typeof location){const e="https:"===location.protocol;let n=location.port;n||(n=e?"443":"80"),this.xd="undefined"!=typeof location&&t.hostname!==location.hostname||n!==t.port,this.xs=t.secure!==e}this.supportsBinary=_n&&!(t&&t.forceBase64)}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new wn(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",t=>{this.onError("xhr post error",t)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",t=>{this.onError("xhr poll error",t)}),this.pollXhr=t}}};class Nn extends Qe.Emitter{constructor(t,e={}){super(),t&&"object"==typeof t&&(e=t,t=null),t?(t=He()(t),e.hostname=t.host,e.secure="https"===t.protocol||"wss"===t.protocol,e.port=t.port,t.query&&(e.query=t.query)):e.host&&(e.hostname=He()(e.host).host),Xe(this,e),this.secure=null!=e.secure?e.secure:"undefined"!=typeof location&&"https:"===location.protocol,e.hostname&&!e.port&&(e.port=this.secure?"443":"80"),this.hostname=e.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=e.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=e.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},e),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=gn.a.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const e=function(t){const e={};for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(this.opts.query);e.EIO=4,e.transport=t,this.id&&(e.sid=this.id);const n=Object.assign({},this.opts.transportOptions[t],this.opts,{query:e,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Pn[t](n)}open(){let t;if(this.opts.rememberUpgrade&&Nn.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch(e){return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(t){let e=this.createTransport(t),n=!1;Nn.priorWebsocketSuccess=!1;const r=()=>{n||(e.send([{type:"ping",data:"probe"}]),e.once("packet",t=>{if(!n)if("pong"===t.type&&"probe"===t.data){if(this.upgrading=!0,this.emitReserved("upgrading",e),!e)return;Nn.priorWebsocketSuccess="websocket"===e.name,this.transport.pause(()=>{n||"closed"!==this.readyState&&(h(),this.setTransport(e),e.send([{type:"upgrade"}]),this.emitReserved("upgrade",e),e=null,this.upgrading=!1,this.flush())})}else{const t=new Error("probe error");t.transport=e.name,this.emitReserved("upgradeError",t)}}))};function s(){n||(n=!0,h(),e.close(),e=null)}const o=t=>{const n=new Error("probe error: "+t);n.transport=e.name,s(),this.emitReserved("upgradeError",n)};function i(){o("transport closed")}function c(){o("socket closed")}function a(t){e&&t.name!==e.name&&s()}const h=()=>{e.removeListener("open",r),e.removeListener("error",o),e.removeListener("close",i),this.off("close",c),this.off("upgrading",a)};e.once("open",r),e.once("error",o),e.once("close",i),this.once("close",c),this.once("upgrading",a),e.open()}onOpen(){if(this.readyState="open",Nn.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let t=0;const e=this.upgrades.length;for(;t<e;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const e=new Error("server error");e.code=t.data,this.onError(e);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(t,e,n){return this.sendPacket("message",t,e,n),this}send(t,e,n){return this.sendPacket("message",t,e,n),this}sendPacket(t,e,n,r){if("function"==typeof e&&(r=e,e=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const s={type:t,data:e,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},e=()=>{this.off("upgrade",e),this.off("upgradeError",e),t()},n=()=>{this.once("upgrade",e),this.once("upgradeError",e)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}onError(t){Nn.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,e){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",t,e),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const e=[];let n=0;const r=t.length;for(;n<r;n++)~this.transports.indexOf(t[n])&&e.push(t[n]);return e}}Nn.protocol=4;const An="function"==typeof ArrayBuffer,Tn=Object.prototype.toString,Bn="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Tn.call(Blob),Rn="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Tn.call(File);function Ln(t){return An&&(t instanceof ArrayBuffer||(t=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer)(t))||Bn&&t instanceof Blob||Rn&&t instanceof File}const Fn=5;var In;!function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"}(In||(In={}));class Mn{encode(t){return t.type!==In.EVENT&&t.type!==In.ACK||!function t(e,n){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(t(e[n]))return!0;return!1}if(Ln(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return t(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return!0;return!1}(t)?[this.encodeAsString(t)]:(t.type=t.type===In.EVENT?In.BINARY_EVENT:In.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return t.type!==In.BINARY_EVENT&&t.type!==In.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&"/"!==t.nsp&&(e+=t.nsp+","),null!=t.id&&(e+=t.id),null!=t.data&&(e+=JSON.stringify(t.data)),e}encodeAsBinary(t){const e=function(t){const e=[],n=t;return n.data=function t(e,n){if(!e)return e;if(Ln(e)){const t={_placeholder:!0,num:n.length};return n.push(e),t}if(Array.isArray(e)){const r=new Array(e.length);for(let s=0;s<e.length;s++)r[s]=t(e[s],n);return r}if("object"==typeof e&&!(e instanceof Date)){const r={};for(const s in e)e.hasOwnProperty(s)&&(r[s]=t(e[s],n));return r}return e}(t.data,e),n.attachments=e.length,{packet:n,buffers:e}}(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}}class Dn extends Qe.Emitter{constructor(){super()}add(t){let e;if("string"==typeof t)e=this.decodeString(t),e.type===In.BINARY_EVENT||e.type===In.BINARY_ACK?(this.reconstructor=new qn(e),0===e.attachments&&super.emitReserved("decoded",e)):super.emitReserved("decoded",e);else{if(!Ln(t)&&!t.base64)throw new Error("Unknown type: "+t);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");e=this.reconstructor.takeBinaryData(t),e&&(this.reconstructor=null,super.emitReserved("decoded",e))}}decodeString(t){let e=0;const n={type:Number(t.charAt(0))};if(void 0===In[n.type])throw new Error("unknown packet type "+n.type);if(n.type===In.BINARY_EVENT||n.type===In.BINARY_ACK){const r=e+1;for(;"-"!==t.charAt(++e)&&e!=t.length;);const s=t.substring(r,e);if(s!=Number(s)||"-"!==t.charAt(e))throw new Error("Illegal attachments");n.attachments=Number(s)}if("/"===t.charAt(e+1)){const r=e+1;for(;++e&&","!==t.charAt(e)&&e!==t.length;);n.nsp=t.substring(r,e)}else n.nsp="/";const r=t.charAt(e+1);if(""!==r&&Number(r)==r){const r=e+1;for(;++e;){const n=t.charAt(e);if(null==n||Number(n)!=n){--e;break}if(e===t.length)break}n.id=Number(t.substring(r,e+1))}if(t.charAt(++e)){const r=function(t){try{return JSON.parse(t)}catch(e){return!1}}(t.substr(e));if(!Dn.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}static isPayloadValid(t,e){switch(t){case In.CONNECT:return"object"==typeof e;case In.DISCONNECT:return void 0===e;case In.CONNECT_ERROR:return"string"==typeof e||"object"==typeof e;case In.EVENT:case In.BINARY_EVENT:return Array.isArray(e)&&e.length>0;case In.ACK:case In.BINARY_ACK:return Array.isArray(e)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class qn{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const t=function(t,e){return t.data=function t(e,n){if(!e)return e;if(e&&e._placeholder)return n[e.num];if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=t(e[r],n);else if("object"==typeof e)for(const r in e)e.hasOwnProperty(r)&&(e[r]=t(e[r],n));return e}(t.data,e),t.attachments=void 0,t}(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function $n(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const zn=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Hn extends Qe.Emitter{constructor(t,e,n){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=e,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const t=this.io;this.subs=[$n(t,"open",this.onopen.bind(this)),$n(t,"packet",this.onpacket.bind(this)),$n(t,"error",this.onerror.bind(this)),$n(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...e){if(zn.hasOwnProperty(t))throw new Error('"'+t+'" is a reserved event name');e.unshift(t);const n={type:In.EVENT,data:e,options:{}};return n.options.compress=!1!==this.flags.compress,"function"==typeof e[e.length-1]&&(this.acks[this.ids]=e.pop(),n.id=this.ids++),this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?this.packet(n):this.sendBuffer.push(n)),this.flags={},this}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){"function"==typeof this.auth?this.auth(t=>{this.packet({type:In.CONNECT,data:t})}):this.packet({type:In.CONNECT,data:this.auth})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",t)}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case In.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case In.EVENT:case In.BINARY_EVENT:this.onevent(t);break;case In.ACK:case In.BINARY_ACK:this.onack(t);break;case In.DISCONNECT:this.ondisconnect();break;case In.CONNECT_ERROR:const e=new Error(t.data.message);e.data=t.data.data,this.emitReserved("connect_error",e)}}onevent(t){const e=t.data||[];null!=t.id&&e.push(this.ack(t.id)),this.connected?this.emitEvent(e):this.receiveBuffer.push(Object.freeze(e))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const e=this._anyListeners.slice();for(const n of e)n.apply(this,t)}super.emit.apply(this,t)}ack(t){const e=this;let n=!1;return function(...r){n||(n=!0,e.packet({type:In.ACK,id:t,data:r}))}}onack(t){const e=this.acks[t.id];"function"==typeof e&&(e.apply(this,t.data),delete this.acks[t.id])}onconnect(t){this.id=t,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>this.packet(t)),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:In.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const e=this._anyListeners;for(let n=0;n<e.length;n++)if(t===e[n])return e.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var Un=n("C2QD"),Vn=n.n(Un);class Kn extends Qe.Emitter{constructor(t,e){var n;super(),this.nsps={},this.subs=[],t&&"object"==typeof t&&(e=t,t=void 0),(e=e||{}).path=e.path||"/socket.io",this.opts=e,Xe(this,e),this.reconnection(!1!==e.reconnection),this.reconnectionAttempts(e.reconnectionAttempts||1/0),this.reconnectionDelay(e.reconnectionDelay||1e3),this.reconnectionDelayMax(e.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=e.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Vn.a({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==e.timeout?2e4:e.timeout),this._readyState="closed",this.uri=t;const s=e.parser||r;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==e.autoConnect,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,this):this._reconnection}reconnectionAttempts(t){return void 0===t?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var e;return void 0===t?this._reconnectionDelay:(this._reconnectionDelay=t,null===(e=this.backoff)||void 0===e||e.setMin(t),this)}randomizationFactor(t){var e;return void 0===t?this._randomizationFactor:(this._randomizationFactor=t,null===(e=this.backoff)||void 0===e||e.setJitter(t),this)}reconnectionDelayMax(t){var e;return void 0===t?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,null===(e=this.backoff)||void 0===e||e.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Nn(this.uri,this.opts);const e=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=$n(e,"open",(function(){n.onopen(),t&&t()})),s=$n(e,"error",e=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",e),t?t(e):n.maybeReconnectOnOpen()});if(!1!==this._timeout){const t=this._timeout;0===t&&r();const n=this.setTimeoutFn(()=>{r(),e.close(),e.emit("error",new Error("timeout"))},t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(r),this.subs.push(s),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push($n(t,"ping",this.onping.bind(this)),$n(t,"data",this.ondata.bind(this)),$n(t,"error",this.onerror.bind(this)),$n(t,"close",this.onclose.bind(this)),$n(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){this.decoder.add(t)}ondecoded(t){this.emitReserved("packet",t)}onerror(t){this.emitReserved("error",t)}socket(t,e){let n=this.nsps[t];return n||(n=new Hn(this,t,e),this.nsps[t]=n),n}_destroy(t){const e=Object.keys(this.nsps);for(const n of e)if(this.nsps[n].active)return;this._close()}_packet(t){const e=this.encoder.encode(t);for(let n=0;n<e.length;n++)this.engine.write(e[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const e=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open(e=>{e?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",e)):t.onreconnect()}))},e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Jn={};function Wn(t,e){"object"==typeof t&&(e=t,t=void 0);const n=function(t,e="",n){let r=t;n=n||"undefined"!=typeof location&&location,null==t&&(t=n.protocol+"//"+n.host),"string"==typeof t&&("/"===t.charAt(0)&&(t="/"===t.charAt(1)?n.protocol+t:n.host+t),/^(https?|wss?):\/\//.test(t)||(t=void 0!==n?n.protocol+"//"+t:"https://"+t),r=He()(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}(t,(e=e||{}).path||"/socket.io"),r=n.source,s=n.id;let o;return e.forceNew||e["force new connection"]||!1===e.multiplex||Jn[s]&&n.path in Jn[s].nsps?o=new Kn(r,e):(Jn[s]||(Jn[s]=new Kn(r,e)),o=Jn[s]),n.query&&!e.query&&(e.query=n.queryKey),o.socket(n.path,e)}Object.assign(Wn,{Manager:Kn,Socket:Hn,io:Wn,connect:Wn});let Yn=(()=>{class t extends class{connect(t,e){this.socket=Wn(t,e)}IO(){return this.socket}socketStatus(){return!!this.socket.connected}emit(t,e){try{const n=JSON.parse(e);this.socket.emit(t,n)}catch(n){this.socket.emit(t,{data:e})}}disconnect(){this.socket.off(),this.socket.destroy(),delete this.socket}removeListener(t){this.socket.off(t)}}{constructor(){super(),this.connectedSocketSubject=new qe.a(!1),this.connectedSocketAsObservable$=this.connectedSocketSubject.asObservable(),this.messageEventSubject=new qe.a([]),this.messageEventSubjectAsObservable$=this.messageEventSubject.asObservable(),this.listEvents=new Array}initSocketConnection(t,e){const n=t=>{try{return JSON.parse(t)}catch(e){return t}};let r={autoConnect:!0};var s,o,i;kt(e)&&(o=(t,e)=>{r=Object.assign(Object.assign({},r),{[t.key]:n(t.value)})},(ct(s=e)?Ot:It)(s,"function"==typeof(i=o)?i:Mt)),this.connect(t,r)}on(t){return new $e.a(e=>{this.IO().on(t,n=>{"connect"===t?(e.next({data:!0,eventName:t}),e.complete()):"disconnect"===t||"unauthorized"===t?(e.next({data:!1,eventName:t}),e.complete()):e.next({data:n,eventName:t})})})}socketStatusConnection(t){this.connectedSocketSubject.next(t)}disconnectSocket(){this.disconnect(),this.socketStatusConnection(!1)}setListenMessage(t){const e={eventName:t.eventName,data:t.data,id:kt(this.listEvents)+1};this.listEvents.push(e),this.messageEventSubject.next(Me(this.listEvents,["id"],["desc"]))}clearMessages(){this.listEvents=new Array,this.messageEventSubject.next(this.listEvents)}removeAMessage(t){const e=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=0;return s<0&&(s=De(r+s,0)),p(t,Le(e),s)}(this.listEvents,{id:t});e>=0&&(this.listEvents.splice(e,1),this.messageEventSubject.next(Me(this.listEvents,["id"],["desc"])))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=R.Gb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Gn=n("1kSV");let Xn=(()=>{class t{transform(t){let e="";try{return e=JSON.stringify(t),e}catch(n){return e=""+t,e}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=R.Jb({name:"stringify",type:t,pure:!0}),t})();function Qn(t,e){if(1&t&&(R.Pb(0,"strong",3),R.xc(1),R.Ob()),2&t){const t=R.cc().$implicit;R.xb(1),R.yc(t.eventName)}}function Zn(t,e){if(1&t){const t=R.Qb();R.Nb(0),R.Pb(1,"ngb-toast",1),R.ac("hide",(function(){R.pc(t);const n=e.index,r=e.$implicit;return R.cc().removeMessage(n,r)})),R.vc(2,Qn,2,1,"ng-template",2),R.Pb(3,"span"),R.Pb(4,"strong"),R.xc(5,"Message: "),R.Ob(),R.Ob(),R.Pb(6,"code"),R.Pb(7,"strong"),R.xc(8),R.dc(9,"stringify"),R.Ob(),R.Ob(),R.Ob(),R.Mb()}if(2&t){const t=e.$implicit;R.xb(1),R.hc("autohide",!1),R.xb(7),R.zc(" ",R.ec(9,2,t.data)," ")}}let tr=(()=>{class t{constructor(t){this.socketTestService=t}ngOnInit(){this.events$=this.socketTestService.messageEventSubjectAsObservable$}trackByIdEvent(t,e){return e?e.id:null}removeMessage(t,e){this.socketTestService.removeAMessage(e.id)}}return t.\u0275fac=function(e){return new(e||t)(R.Kb(Yn))},t.\u0275cmp=R.Eb({type:t,selectors:[["app-listen-events"]],decls:2,vars:4,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[1,"toast-full",3,"autohide","hide"],["ngbToastHeader",""],[1,"mx-1"]],template:function(t,e){1&t&&(R.vc(0,Zn,10,4,"ng-container",0),R.dc(1,"async")),2&t&&R.hc("ngForOf",R.ec(1,2,e.events$))("ngForTrackBy",e.trackByIdEvent)},directives:[c.k,Gn.i,Gn.j],pipes:[c.b,Xn],styles:[".toast-full[_ngcontent-%COMP%]{max-width:unset}"]}),t})();function er(t,e){1&t&&(R.Pb(0,"span",12),R.xc(1,"Message Sent"),R.Ob())}function nr(t,e){1&t&&(R.Pb(0,"div"),R.xc(1,"Event name is required"),R.Ob())}function rr(t,e){if(1&t&&(R.Pb(0,"div",13),R.vc(1,nr,2,0,"div",14),R.Ob()),2&t){const t=R.cc();R.xb(1),R.hc("ngIf",t.form.eventName.errors.required)}}const sr=function(t){return{"is-invalid":t}};let or=(()=>{class t{constructor(t,e){this.formBuilder=t,this.socketTestService=e,this.showEmmitedMessage=!1}ngOnInit(){this.socketStatus$=this.socketTestService.connectedSocketAsObservable$,this.emitForm=this.formBuilder.group({eventName:[null,h.p.required],message:[null]})}get form(){return this.emitForm.controls}sendMessage(){this.emitForm.invalid||(this.showEmmitedMessage=!0,this.socketTestService.emit(this.emitForm.value.eventName,this.emitForm.value.message),this.emitForm.reset(),setTimeout(()=>{this.showEmmitedMessage=!1},1500))}}return t.\u0275fac=function(e){return new(e||t)(R.Kb(h.d),R.Kb(Yn))},t.\u0275cmp=R.Eb({type:t,selectors:[["app-emit-event"]],decls:19,vars:9,consts:[[1,"card"],[1,"card-header"],["class","badge badge-success",4,"ngIf"],[1,"card-body"],[3,"formGroup"],[1,"form-group"],["for","eventName"],["formControlName","eventName","type","text","id","eventName","placeholder","Event Name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["for","messaageData"],["formControlName","message","type","text","id","messaageData","placeholder","Message..",1,"form-control"],["type","button",1,"btn","btn-primary",3,"disabled","click"],[1,"badge","badge-success"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,e){1&t&&(R.Pb(0,"div",0),R.Pb(1,"div",1),R.Pb(2,"strong"),R.xc(3,"Send message"),R.Ob(),R.vc(4,er,2,0,"span",2),R.Ob(),R.Pb(5,"div",3),R.Pb(6,"form",4),R.Pb(7,"div",5),R.Pb(8,"label",6),R.xc(9,"Event Name"),R.Ob(),R.Lb(10,"input",7),R.vc(11,rr,2,1,"div",8),R.Ob(),R.Pb(12,"div",5),R.Pb(13,"label",9),R.xc(14,"Message(Json|Text)"),R.Ob(),R.Lb(15,"textarea",10),R.Ob(),R.Pb(16,"button",11),R.ac("click",(function(){return e.sendMessage()})),R.dc(17,"async"),R.xc(18,"Send"),R.Ob(),R.Ob(),R.Ob(),R.Ob()),2&t&&(R.xb(4),R.hc("ngIf",e.showEmmitedMessage),R.xb(2),R.hc("formGroup",e.emitForm),R.xb(4),R.hc("ngClass",R.kc(7,sr,e.form.eventName.errors)),R.xb(1),R.hc("ngIf",e.form.eventName.errors),R.xb(5),R.hc("disabled",!R.ec(17,5,e.socketStatus$)))},directives:[c.l,h.r,h.l,h.f,h.b,h.k,h.e,c.j],pipes:[c.b],styles:[""]}),t})(),ir=(()=>{class t{constructor(t){this.socketTestService=t,this.removeEvent=new R.n,this.onDestroy$=new u.a}ngOnInit(){this.socketTestService.connectedSocketAsObservable$.pipe(Object(l.a)(this.onDestroy$)).subscribe(t=>{t&&this.listenEvent()})}closeEvent(){this.removeEvent.emit(this.eventName)}listenEvent(){this.socketTestService.on(this.eventName).pipe(Object(l.a)(this.onDestroy$)).subscribe(t=>{this.socketTestService.setListenMessage(t)})}ngOnDestroy(){this.socketTestService.removeListener(this.eventName),this.onDestroy$.next(),this.onDestroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(R.Kb(Yn))},t.\u0275cmp=R.Eb({type:t,selectors:[["app-set-events"]],inputs:{eventName:"eventName"},outputs:{removeEvent:"removeEvent"},decls:4,vars:1,consts:[[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"btn","btn-danger","rounded",3,"click"]],template:function(t,e){1&t&&(R.Pb(0,"li",0),R.xc(1),R.Pb(2,"button",1),R.ac("click",(function(){return e.closeEvent()})),R.xc(3,"x"),R.Ob(),R.Ob()),2&t&&(R.xb(1),R.zc(" ",e.eventName," "))},styles:[""]}),t})();function cr(t,e){if(1&t&&(R.Pb(0,"div",34),R.Pb(1,"b"),R.xc(2,"Error:"),R.Ob(),R.xc(3),R.Ob()),2&t){const t=R.cc();R.xb(3),R.zc(" ",t.errorMessage,"\n")}}function ar(t,e){1&t&&(R.Pb(0,"div"),R.xc(1,"Url is required"),R.Ob())}function hr(t,e){if(1&t&&(R.Pb(0,"div",35),R.vc(1,ar,2,0,"div",36),R.Ob()),2&t){const t=R.cc();R.xb(1),R.hc("ngIf",t.form.url.errors.required)}}function ur(t,e){if(1&t){const t=R.Qb();R.Pb(0,"button",37),R.ac("click",(function(){return R.pc(t),R.cc().connectSocket()})),R.xc(1,"Connect "),R.Ob()}if(2&t){const t=R.cc();R.hc("disabled",t.disableConnectBtn)}}function lr(t,e){if(1&t){const t=R.Qb();R.Pb(0,"button",38),R.ac("click",(function(){return R.pc(t),R.cc().disoconnectSocket()})),R.xc(1,"Disconnect "),R.Ob()}if(2&t){const t=R.cc();R.hc("disabled",t.connectForm.invalid)}}function pr(t,e){if(1&t){const t=R.Qb();R.Nb(0,48),R.Pb(1,"tr",49),R.Pb(2,"td"),R.Lb(3,"input",50),R.Ob(),R.Pb(4,"td"),R.Lb(5,"input",51),R.Ob(),R.Pb(6,"td"),R.Pb(7,"button",52),R.ac("click",(function(){R.pc(t);const n=e.index;return R.cc(2).removeCustomHeader(n)})),R.xc(8,"x"),R.Ob(),R.Ob(),R.Ob(),R.Mb()}if(2&t){const t=e.index,n=R.cc(2);R.xb(1),R.hc("formGroupName",t),R.xb(6),R.hc("disabled",n.socketConnected)}}function fr(t,e){if(1&t){const t=R.Qb();R.Pb(0,"div",39),R.Pb(1,"div",40),R.Pb(2,"div",41),R.Pb(3,"div",9),R.Pb(4,"div",42),R.Pb(5,"h3"),R.xc(6,"Options"),R.Ob(),R.Ob(),R.Pb(7,"div",43),R.Pb(8,"button",44),R.ac("click",(function(){return R.pc(t),R.cc().addCustomHeader()})),R.Lb(9,"i",45),R.xc(10," Add New"),R.Ob(),R.Ob(),R.Ob(),R.Ob(),R.Pb(11,"form",11),R.Pb(12,"table",46),R.Pb(13,"thead"),R.Pb(14,"tr"),R.Pb(15,"th"),R.xc(16,"Key"),R.Ob(),R.Pb(17,"th"),R.xc(18,"Value(Text|Json)"),R.Ob(),R.Pb(19,"th"),R.xc(20,"Remove"),R.Ob(),R.Ob(),R.Ob(),R.Pb(21,"tbody"),R.vc(22,pr,9,2,"ng-container",47),R.Ob(),R.Ob(),R.Ob(),R.Ob(),R.Ob()}if(2&t){const t=R.cc();R.xb(8),R.hc("disabled",t.socketConnected),R.xb(3),R.hc("formGroup",t.headerForm),R.xb(11),R.hc("ngForOf",t.getHeaderForm.controls)}}function dr(t,e){1&t&&R.Lb(0,"app-emit-event")}function br(t,e){1&t&&(R.Pb(0,"span",62),R.xc(1,"Already Listening Event"),R.Ob())}function vr(t,e){1&t&&(R.Pb(0,"div"),R.xc(1,"Event name is required"),R.Ob())}function mr(t,e){if(1&t&&(R.Pb(0,"div",35),R.vc(1,vr,2,0,"div",36),R.Ob()),2&t){const t=R.cc(2);R.xb(1),R.hc("ngIf",t.getListenForms.eventName.errors.required)}}function yr(t,e){if(1&t){const t=R.Qb();R.Pb(0,"app-set-events",63),R.ac("removeEvent",(function(e){return R.pc(t),R.cc(2).removeEvent(e)})),R.Ob()}2&t&&R.hc("eventName",e.$implicit)}const gr=function(t){return{"is-invalid":t}};function kr(t,e){if(1&t){const t=R.Qb();R.Pb(0,"div",6),R.Pb(1,"div",53),R.Pb(2,"strong"),R.xc(3,"Set events to listen"),R.Ob(),R.vc(4,br,2,0,"span",54),R.Ob(),R.Pb(5,"div",55),R.Pb(6,"form",11),R.Pb(7,"div",56),R.Pb(8,"div",57),R.Pb(9,"input",58),R.ac("keyup.enter",(function(){return R.pc(t),R.cc().addEvent()})),R.Ob(),R.vc(10,mr,2,1,"div",16),R.Ob(),R.Pb(11,"div",57),R.Pb(12,"button",59),R.ac("click",(function(){return R.pc(t),R.cc().addEvent()})),R.xc(13,"Add"),R.Ob(),R.Ob(),R.Ob(),R.Ob(),R.Pb(14,"ul",60),R.vc(15,yr,1,1,"app-set-events",61),R.Ob(),R.Ob(),R.Ob()}if(2&t){const t=R.cc();R.xb(4),R.hc("ngIf",t.alreadyLisenetingEvent),R.xb(2),R.hc("formGroup",t.listenForm),R.xb(3),R.hc("ngClass",R.kc(7,gr,t.getListenForms.eventName.errors)),R.xb(1),R.hc("ngIf",t.getListenForms.eventName.errors),R.xb(2),R.hc("disabled",t.listenForm.invalid),R.xb(3),R.hc("ngForOf",t.eventList)("ngForTrackBy",t.trackByNameEvent)}}const Or=function(t,e){return{"navbbg-success bg-success":t,"navbbg-light bg-light":e}},_r=[{path:"",component:(()=>{class t{constructor(t,e){this.formBuilder=t,this.socketTestService=e,this.useHeaders=!1,this.active=1,this.socketConnected=!1,this.eventList=[],this.alreadyLisenetingEvent=!1,this.disableConnectBtn=!1,this.showErrorConnection=!1,this.errorMessage=null,this.onDestroy$=new u.a}ngOnInit(){this.connectForm=this.formBuilder.group({url:[null,[h.p.required,h.p.pattern(/^https?:\/\//)]]}),this.headerForm=this.formBuilder.group({headers:this.formBuilder.array([])}),this.listenForm=this.formBuilder.group({eventName:[null,h.p.required]}),this.socketTestService.connectedSocketAsObservable$.pipe(Object(l.a)(this.onDestroy$)).subscribe(t=>{this.socketConnected=t})}get form(){return this.connectForm.controls}get getListenForms(){return this.listenForm.controls}get getHeaderForm(){return this.headerForm.get("headers")}intializeHeaderForm(){return this.formBuilder.group({key:[null],value:[null]})}connectSocket(){if(!this.connectForm.invalid&&!this.disableConnectBtn){const{url:t}=this.connectForm.value,{headers:e}=this.headerForm.value;this.socketTestService.initSocketConnection(t,e),this.connectionStatus(),this.disableControls()}}addCustomHeader(){this.headerForm.get("headers").push(this.intializeHeaderForm())}removeCustomHeader(t){this.headerForm.get("headers").removeAt(t)}connectionStatus(){this.socketTestService.on("error").pipe(Object(l.a)(this.onDestroy$)).subscribe(t=>{console.log(t),"error"===t.eventName&&(this.disoconnectSocket(),this.showErrorConnection=!0,this.errorMessage=t.data.message,setTimeout(()=>{this.showErrorConnection=!1,this.errorMessage=""},3e3))}),this.socketTestService.on("disconnect").pipe(Object(l.a)(this.onDestroy$)).subscribe(t=>{"disconnect"===t.eventName&&this.disoconnectSocket()}),this.socketTestService.on("unauthorized").pipe(Object(l.a)(this.onDestroy$)).subscribe(t=>{"unauthorized"===t.eventName&&(this.disoconnectSocket(),this.showErrorConnection=!0,this.errorMessage=t.data,setTimeout(()=>{this.showErrorConnection=!1,this.errorMessage=""},3e3))}),this.socketTestService.on("connect").pipe(Object(l.a)(this.onDestroy$)).subscribe(t=>{"connect"===t.eventName&&(this.socketTestService.socketStatusConnection(!0),this.disableControls())}),this.socketTestService.on("connect_error").pipe(Object(l.a)(this.onDestroy$)).subscribe(t=>{console.log(t),"connect_error"===t.eventName&&(this.disoconnectSocket(),this.showErrorConnection=!0,this.errorMessage="Connection socket error",setTimeout(()=>{this.showErrorConnection=!1,this.errorMessage=""},3e3))})}disoconnectSocket(){this.socketTestService.disconnectSocket(),this.enableControls(),this.active=1}headerChange(){this.headerForm.get("headers").clear()}addEvent(){if(!this.listenForm.invalid){const{eventName:t}=this.listenForm.value;B(this.eventList,t)<0?this.eventList.push(t):(this.alreadyLisenetingEvent=!0,setTimeout(()=>{this.alreadyLisenetingEvent=!1},1500)),this.listenForm.reset()}}removeEvent(t){const e=B(this.eventList,t);e>=0&&this.eventList.splice(e,1)}trackByNameEvent(t,e){return e||null}clearMessages(){this.socketTestService.clearMessages()}enableControls(){this.connectForm.get("url").enable(),this.headerForm.get("headers").enable(),this.disableConnectBtn=!1}disableControls(){this.connectForm.get("url").disable(),this.headerForm.get("headers").disable(),this.disableConnectBtn=!0}ngOnDestroy(){this.onDestroy$.next(),this.onDestroy$.complete()}}return t.\u0275fac=function(e){return new(e||t)(R.Kb(h.d),R.Kb(Yn))},t.\u0275cmp=R.Eb({type:t,selectors:[["app-socket-test"]],decls:53,vars:22,consts:[[1,"navbar","navbar-expand-lg",3,"ngClass"],["href","https://github.com/alejandroTapiaQ/socket-test-client","target","_blank"],["src","assets/github-icon.png","height","30","width","30"],[1,"navbar-brand"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"container"],[1,"card"],[1,"card-body"],[1,"form-group"],[1,"row"],[1,"col-md-8"],[3,"formGroup"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],["formControlName","url","type","text","placeholder","http://localhost/v1","aria-label","url","aria-describedby","basic-addon1",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-2"],[1,"form-check-inline"],[1,"form-check-label"],["type","checkbox",1,"form-check-input",3,"disabled","ngModel","ngModelChange","click"],["class","btn btn-success",3,"disabled","click",4,"ngIf"],["class","btn btn-danger",3,"disabled","click",4,"ngIf"],["class","table-responsive-sm",4,"ngIf"],[1,"col-md-4"],["ngbNav","",1,"nav-tabs","justify-content-center",3,"activeId","destroyOnHide","activeIdChange"],["nav","ngbNav"],[3,"ngbNavItem","disabled"],["ngbNavLink",""],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"card-header","container-fluid"],[1,"btn","btn-warning","float-right",3,"click"],[1,"card-body",2,"max-height","350px","overflow-y","scroll"],["role","alert",1,"alert","alert-danger"],[1,"invalid-feedback"],[4,"ngIf"],[1,"btn","btn-success",3,"disabled","click"],[1,"btn","btn-danger",3,"disabled","click"],[1,"table-responsive-sm"],[1,"table-wrapper"],[1,"table-title"],[1,"col-sm-10"],[1,"col-sm-2"],["type","button",1,"btn","btn-info","add-new",3,"disabled","click"],[1,"fa","fa-plus"],[1,"table","table-bordered"],["formArrayName","headers",4,"ngFor","ngForOf"],["formArrayName","headers"],[3,"formGroupName"],["type","text","placeholder","Key","formControlName","key",1,"form-control"],["type","text","placeholder","Value","formControlName","value",1,"form-control"],[1,"btn","btn-danger","rounded",3,"disabled","click"],[1,"card-header"],["class","badge badge-warning",4,"ngIf"],[1,"card-body",2,"max-height","350px","overflow-y","auto"],[1,"form-row","align-items-center"],[1,"col-auto"],["formControlName","eventName","type","text","placeholder","Event Name",1,"form-control","mb-2",3,"ngClass","keyup.enter"],["type","button",1,"btn","btn-primary","mb-2",3,"disabled","click"],[1,"list-group"],[3,"eventName","removeEvent",4,"ngFor","ngForOf","ngForTrackBy"],[1,"badge","badge-warning"],[3,"eventName","removeEvent"]],template:function(t,e){if(1&t&&(R.Pb(0,"nav",0),R.Pb(1,"a",1),R.Lb(2,"img",2),R.Ob(),R.xc(3," \xa0\xa0 "),R.Pb(4,"span",3),R.xc(5,"Angular Socket Client Tool"),R.Ob(),R.Ob(),R.vc(6,cr,4,1,"div",4),R.Lb(7,"br"),R.Pb(8,"div",5),R.Pb(9,"div",6),R.Pb(10,"div",7),R.Pb(11,"div",8),R.Pb(12,"div",9),R.Pb(13,"div",10),R.Pb(14,"form",11),R.Pb(15,"div",12),R.Pb(16,"div",13),R.Pb(17,"span",14),R.xc(18,"Url"),R.Ob(),R.Ob(),R.Lb(19,"input",15),R.vc(20,hr,2,1,"div",16),R.Ob(),R.Ob(),R.Ob(),R.Pb(21,"div",17),R.Pb(22,"div",18),R.Pb(23,"label",19),R.Pb(24,"input",20),R.ac("ngModelChange",(function(t){return e.useHeaders=t}))("click",(function(){return e.headerChange()})),R.Ob(),R.xc(25,"Socket Io Oprions? "),R.Ob(),R.Ob(),R.Ob(),R.Pb(26,"div",17),R.vc(27,ur,2,1,"button",21),R.vc(28,lr,2,1,"button",22),R.Ob(),R.Ob(),R.Ob(),R.vc(29,fr,23,3,"div",23),R.Ob(),R.Ob(),R.Lb(30,"br"),R.Pb(31,"div",9),R.Pb(32,"div",24),R.Pb(33,"ul",25,26),R.ac("activeIdChange",(function(t){return e.active=t})),R.Pb(35,"li",27),R.Pb(36,"a",28),R.xc(37,"Emit"),R.Ob(),R.vc(38,dr,1,0,"ng-template",29),R.Ob(),R.Pb(39,"li",27),R.Pb(40,"a",28),R.xc(41,"Events"),R.Ob(),R.vc(42,kr,16,9,"ng-template",29),R.Ob(),R.Ob(),R.Lb(43,"div",30),R.Ob(),R.Pb(44,"div",10),R.Pb(45,"div",6),R.Pb(46,"div",31),R.Pb(47,"strong"),R.xc(48,"Listen Events"),R.Ob(),R.Pb(49,"button",32),R.ac("click",(function(){return e.clearMessages()})),R.xc(50,"Clear"),R.Ob(),R.Ob(),R.Pb(51,"div",33),R.Lb(52,"app-listen-events"),R.Ob(),R.Ob(),R.Ob(),R.Ob(),R.Ob()),2&t){const t=R.oc(34);R.hc("ngClass",R.lc(17,Or,e.socketConnected,!e.socketConnected)),R.xb(6),R.hc("ngIf",e.showErrorConnection),R.xb(8),R.hc("formGroup",e.connectForm),R.xb(5),R.hc("ngClass",R.kc(20,gr,e.form.url.errors)),R.xb(1),R.hc("ngIf",e.form.url.errors),R.xb(4),R.hc("disabled",e.socketConnected||e.disableConnectBtn)("ngModel",e.useHeaders),R.xb(3),R.hc("ngIf",!e.socketConnected),R.xb(1),R.hc("ngIf",e.socketConnected),R.xb(1),R.hc("ngIf",e.useHeaders),R.xb(4),R.hc("activeId",e.active)("destroyOnHide",!1),R.xb(2),R.hc("ngbNavItem",1)("disabled",!e.socketConnected),R.xb(4),R.hc("ngbNavItem",2)("disabled",!e.socketConnected),R.xb(4),R.hc("ngbNavOutlet",t)}},directives:[c.j,c.l,h.r,h.l,h.f,h.b,h.k,h.e,h.a,h.m,Gn.c,Gn.e,Gn.f,Gn.d,Gn.h,tr,c.k,h.c,h.g,or,ir],styles:[".example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]}),t})()}];let wr=(()=>{class t{}return t.\u0275mod=R.Ib({type:t}),t.\u0275inj=R.Hb({factory:function(e){return new(e||t)},imports:[[a.a.forChild(_r)],a.a]}),t})(),xr=(()=>{class t{}return t.\u0275mod=R.Ib({type:t}),t.\u0275inj=R.Hb({factory:function(e){return new(e||t)},providers:[Yn],imports:[[c.c,wr,Gn.a,Gn.g,Gn.k,h.h,h.o]]}),t})()},"Ju5/":function(t,e,n){"use strict";var r=n("XqMk"),s="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||s||Function("return this")();e.a=o},L3Qv:function(t,e,n){"use strict";e.a=function(){return!1}},TypT:function(t,e){e.encode=function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},e.decode=function(t){for(var e={},n=t.split("&"),r=0,s=n.length;r<s;r++){var o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}},Uxeu:function(t,e){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(t){var e,s,o=t,i=t.indexOf("["),c=t.indexOf("]");-1!=i&&-1!=c&&(t=t.substring(0,i)+t.substring(i,c).replace(/:/g,";")+t.substring(c,t.length));for(var a,h=n.exec(t||""),u={},l=14;l--;)u[r[l]]=h[l]||"";return-1!=i&&-1!=c&&(u.source=o,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=(s=(e=u.path).replace(/\/{2,9}/g,"/").split("/"),"/"!=e.substr(0,1)&&0!==e.length||s.splice(0,1),"/"==e.substr(e.length-1,1)&&s.splice(s.length-1,1),s),u.queryKey=(a={},u.query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(t,e,n){e&&(a[e]=n)})),a),u}},WOAq:function(t,e,n){"use strict";(function(t){var r=n("Ju5/"),s=n("L3Qv"),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,c=i&&i.exports===o?r.a.Buffer:void 0;e.a=(c?c.isBuffer:void 0)||s.a}).call(this,n("3UD+")(t))},XqMk:function(t,e,n){"use strict";var r="object"==typeof global&&global&&global.Object===Object&&global;e.a=r},sZ2K:function(t,e){function n(t){if(t)return function(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}(t)}e.Emitter=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var s=0;s<r.length;s++)if((n=r[s])===e||n.fn===e){r.splice(s,1);break}return 0===r.length&&delete this._callbacks["$"+t],this},n.prototype.emitReserved=n.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var s=(n=n.slice(0)).length;r<s;++r)n[r].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},xutz:function(t,e,n){"use strict";(function(t){var r=n("XqMk"),s="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=s&&"object"==typeof t&&t&&!t.nodeType&&t,i=o&&o.exports===s&&r.a.process,c=function(){try{return o&&o.require&&o.require("util").types||i&&i.binding&&i.binding("util")}catch(t){}}();e.a=c}).call(this,n("3UD+")(t))},yeub:function(t,e){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){t.exports=!1}}}]);